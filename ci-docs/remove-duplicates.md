---
title: Видалення повторень перед об'єднанням даних
description: Другим етапом процесу уніфікації є вибір того, який запис зберігати при знаходженні дублікатів.
recommendations: false
ms.date: 04/22/2022
ms.subservice: audience-insights
ms.topic: tutorial
author: v-wendysmith
ms.author: mukeshpo
ms.reviewer: v-wendysmith
manager: shellyha
searchScope:
- ci-map
- ci-match
- customerInsights
ms.openlocfilehash: a838fbdabdb3bfffc6d3835a3f0e97306a43964a
ms.sourcegitcommit: 3c5b0b40b2b45e420015bbdd228ce0e610245e6f
ms.translationtype: HT
ms.contentlocale: uk-UA
ms.lasthandoff: 07/12/2022
ms.locfileid: "9139454"
---
# <a name="remove-duplicates-before-unifying-data"></a>Видалення повторень перед об'єднанням даних

Цей крок уніфікації за бажанням дає змогу встановити правила обробки повторюваних записів у межах сутності. *Дедуплікація* ідентифікує повторювані записи і об'єднує їх в один запис. Вихідні записи зв'язуються з злитим записом з альтернативними ідентифікаторами. Якщо правила не настроєно, застосовуються системні правила.

## <a name="include-enriched-entities-preview"></a>Включати збагачені сутності (попередній перегляд)

Якщо ви збагатили сутності на джерело даних рівні, щоб допомогти покращити результати об'єднання, виберіть їх. Щоб отримати додаткові відомості, перегляньте статтю [Збагачення джерел даних](data-sources-enrichment.md).

1. **На сторінці Дублювання записів** виберіть елемент **Використовувати збагачені сутності** у верхній частині сторінки.

1. **З області Використання збагачених сутностей** виберіть одну або кілька збагачених сутностей.

1. Виберіть **Готово**.

## <a name="define-deduplication-rules"></a>Визначте правила дедуплікації

1. **На сторінці Дублювання записів** виберіть сутність і натисніть кнопку **Додати правило**, щоб визначити правила дедуплікації.

   :::image type="content" source="media/m3_duplicates_showmore.png" alt-text="Знімок екрана: &quot;Дублювання сторінок записів&quot; із виділеним елементом &quot;Показати більше&quot;":::

   1. **В області Додавання правила** введіть такі відомості:
      - **Виберіть поле**: виберіть зі списку доступних полів із сутності, яку потрібно перевірити на наявність дублікатів. Виберіть поля, які є унікальними для кожного окремого клієнта. Наприклад, адреса електронної пошти або комбінація імені, міста й номера телефону.
      - **Нормалізувати**: виберіть з наведених параметрів нормалізації для вибраних атрибутів.
        - **Числівники**: перетворює інші системи числення, наприклад римські цифри, на арабські. *VIII* стає *8*.
        - **Символи**: видаляє всі символи та спеціальні символи. *Head&Shoulder* стає *HeadShoulder*.
        - **Текст на малий регістр: перетворює всі символи на малі**. *ALL CAPS and Title Case* стає *all caps and title case*.
        - **Тип (телефон, ім'я, адреса, організація)**: стандартизує імена, посади, номери телефонів, адреси тощо.
        - **Юнікод в ASCII**: перетворює позначення юнікоду на символи ASCII. */u00B2* стає *2*.
        - **Пробіли**: видаляє всі пробіли. *Hello   World* стає *HelloWorld*.
      - **Точність**: задаєте рівень точності, який застосовуватимуться для цієї умови.
        - **Основні**: вибирайте з *низьких (30%)*, *середніх (60%)*, *високих (80%)* та *точних (100%)*. Виберіть " **Точний"**, щоб відповідати лише записам, які відповідають 100 відсоткам.
        - **Настроюваний**: установити відсоток, на який записи повинні збігатися. Система зіставлятиме лише записи, які перевищують цей поріг.
      - **Ім'я** – ім'я правила.

      :::image type="content" source="media/m3_duplicates_add.png" alt-text="Знімок екрана: область додавання правил для видалення повторень.":::

   1. За потреби виберіть **додати** > **умову**, щоб додати інші умови до правила. Умови зв'язані з логічним оператором AND, отже, виконуються лише за виконання всіх умов.

   1. За потреби **додайте** > **виняток**, щоб [додати винятки до правила](match-entities.md#add-exceptions-to-a-rule). Винятки використовуються для вирішення рідкісних випадків помилкових спрацьовувань і помилкових негативів.

   1. Натисніть кнопку **Готово**, щоб створити правило.

1. За потреби [можна додати інші правила](#define-deduplication-rules).

1. Виберіть сутність, а потім відредагуйте **параметри** злиття.

1. В області **параметрів** "Об'єднання":
   1. Виберіть один із трьох параметрів, щоб визначити, який запис зберігати, якщо знайдено дублікат:
      - **Максимально заповнений**: ідентифікує запис з найбільш заповненими полями атрибутів як переможний запис. Це стандартний параметр злиття.
      - **Найостанніший**: ідентифікує переможний запис на основі давності. Вимагає дати або числового поля для визначення давності.
      - **Найдавніший**: ідентифікує переможний запис на основі найбільшого значення давності. Вимагає дати або числового поля для визначення давності.
      
      У разі нічиєї, переможцем вважається запис із max(PK) або більшим значенням первинного ключа.
      
   1. За бажанням, щоб визначити параметри об'єднання для окремих атрибутів сутності, виберіть " **Додатково"** внизу панелі. Наприклад, можна вибрати збереження останньої електронної пошти ТА найбільш повної адреси з різних записів. Розгорніть сутність, щоб побачити всі її атрибути, і визначте, який параметр використовувати для окремих атрибутів. Якщо ви обираєте параметр на основі повторності, вам також потрібно вказати поле дати/часу, яке визначає повторність.

      :::image type="content" source="media/m3_adv_merge.png" alt-text="Область параметрів розширеного злиття з останніми повідомленнями електронної пошти та повною адресою":::

   1. Виберіть " **Готово"**, щоб застосувати параметри злиття.

1. Визначивши правила дедуплікації та параметри об'єднання, натисніть кнопку **Далі**.
  
> [!div class="nextstepaction"]
> [Наступний крок для однієї сутності: уніфікація полів](merge-entities.md)

> [!div class="nextstepaction"]
> [Наступний крок для кількох сутностей: Зіставлення умов](match-entities.md)

## <a name="deduplication-output-as-an-entity"></a>Результати вилучення дублікатів як сутність

Процес дедуплікації створює нову дедупліковану сутність для кожної з вихідних сутностей. Ці сутності можна знайти разом з **ConflationMatchPairs:CustomerInsights** в розділі **Система** на сторінці **Сутності** під іменем **Deduplication_DataSource_Entity**.

Сутність виводу вилучення дублікатів містить зазначені нижче відомості.

- Ідентифікатори / Ключі
  - Поля первинного ключа та альтернативного ідентифікатора. Поле «Альтернативний ідентифікатор» складається з усіх альтернативних ідентифікаторів, визначених для запису.
  - Поле Deduplication_GroupId відображає групу або кластер, що визначається у сутності та групує усі подібні записи на основі вказаних полів вилучення дублікатів. Це використовується для цілей системної обробки. Якщо не вказано правил вилучення дублікатів вручну та застосовуються системні правила вилучення дублікатів, це поле може бути відсутнє у сутності виводу вилучення дублікатів.
  - Deduplication_WinnerId: у цьому полі міститься ідентифікатор переможця з визначених груп або кластерів. Якщо Deduplication_WinnerId співпадає зі значенням первинного ключа для запису, це означає, що цей запис є записом-переможцем.
- Поля використовуються для визначення правил вилучення дублікатів.
- Поля «Правило» та «Оцінка» вказують, які правила вилучення дублікатів було застосовано та яку оцінку було повернуто алгоритмом зіставлення.

[!INCLUDE[footer-include](includes/footer-banner.md)]
