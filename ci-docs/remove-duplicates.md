---
title: Видалення повторів перед об'єднанням даних
description: Другий крок у процесі об'єднання - це вибір запису, який слід зберігати при виявленні дублікатів.
recommendations: false
ms.date: 04/22/2022
ms.subservice: audience-insights
ms.topic: tutorial
author: v-wendysmith
ms.author: mukeshpo
ms.reviewer: v-wendysmith
manager: shellyha
searchScope:
- ci-map
- ci-match
- customerInsights
ms.openlocfilehash: 27dff3551ab411a12c273536d7431d651c48573e
ms.sourcegitcommit: 6a5f4312a2bb808c40830863f26620daf65b921d
ms.translationtype: MT
ms.contentlocale: uk-UA
ms.lasthandoff: 05/11/2022
ms.locfileid: "8742982"
---
# <a name="remove-duplicates-before-unifying-data"></a>Видалення повторів перед об'єднанням даних

[!INCLUDE [m3-prod-trial-note](includes/m3-prod-trial-note.md)]

Цей крок уніфікації за бажанням дає змогу настроїти правила обробки повторюваних записів у межах сутності. *Дедуплікація* ідентифікує повторювані записи та об'єднує їх в один запис. Вихідні записи зв'язуються з злитим записом з альтернативними ідентифікаторами. Якщо правила не настроєно, застосовуються системно визначені правила.

## <a name="include-enriched-entities-preview"></a>Включити збагачені сутності (попередній перегляд)

Якщо ви збагатили сутності на рівні джерело даних, щоб покращити результати об'єднання, виберіть їх. Для отримання додаткових відомостей [див](data-sources-enrichment.md).

1. На сторінці Повторювані **записи** виберіть пункт **Використовувати збагачені сутності** у верхній частині сторінки.

1. **В області Використовувати збагачені сутності** виберіть одну або кілька збагачених сутностей.

1. Виберіть **Готово**.

## <a name="define-deduplication-rules"></a>Визначення правил дедуплікації

1. **На сторінці Повторювані записи** виберіть сутність і натисніть додати **правило**, щоб визначити правила дедуплікації.

   :::image type="content" source="media/m3_duplicates_showmore.png" alt-text="Знімок екрана: повторювані сторінки записів із виділеним елементом &quot;Показати більше&quot;":::

   1. **В області Додавання правила** введіть такі відомості:
      - **Виберіть поле**: виберіть зі списку доступних полів із сутності, яку потрібно перевірити на наявність повторів. Виберіть поля, які є унікальними для кожного окремого клієнта. Наприклад, адреса електронної пошти або комбінація імені, міста й номера телефону.
      - **Нормалізувати**: виберіть з наведених параметрів нормалізації для вибраних атрибутів.
        - **Цифри**: перетворює інші системи числення, такі як римські цифри, на арабські цифри. *VIII* стає *8*.
        - **Символи**: видаляє всі символи та спеціальні символи. *Head&Shoulder* стає *HeadShoulder*.
        - **Текст у нижньому регістрі: перетворює всі символи на нижній регістр**. *ALL CAPS and Title Case* стає *all caps and title case*.
        - **Тип (телефон, ім'я, адреса, організація)**: Стандартизує імена, назви, номери телефонів, адреси тощо.
        - **Юнікод до ASCII**: перетворює позначення Юнікоду на символи ASCII. */u00B2* стає *2*.
        - **пробіли**: видаляє всі пробіли. *Hello   World* стає *HelloWorld*.
      - **Точність**: задаєте рівень точності, який застосовуватимуться для цієї умови.
        - **Основні**: виберіть з *низьких (30%)*, *середніх (60%)*, *високих (80%)* і *точних (100%)*. Виберіть **"Точний"**, щоб відповідати лише записам, які відповідають 100 відсоткам.
        - **Настроюваний**: установити відсоток, на який записи повинні збігатися. Система зіставлятиме лише записи, які перевищують цей поріг.
      - **Ім'я**: ім'я правила.

      :::image type="content" source="media/m3_duplicates_add.png" alt-text="Знімок екрана: область додавання правил для видалення повторів.":::

   1. За бажанням виберіть **додати** > **умову**, щоб додати додаткові умови до правила. Умови зв'язані з логічним оператором AND, отже, виконуються лише за виконання всіх умов.

   1. За бажанням **додайте** > **додати виняток**, щоб [додати винятки до правила](match-entities.md#add-exceptions-to-a-rule). Винятки використовуються для вирішення рідкісних випадків помилкових спрацьовувань і помилкових негативів.

   1. Натисніть кнопку **Готово**, щоб створити правило.

1. За потреби [можна додати інші правила](#define-deduplication-rules).

1. Виберіть сутність, а потім змініть **параметри** злиття.

1. **В області Параметри злиття виконайте наведені нижче дії**.
   1. Виберіть один із трьох варіантів, щоб визначити, який запис слід зберегти, якщо знайдено дублікат:
      - **Максимально заповнений**: ідентифікує запис з найбільш заповненими полями атрибутів як переможний запис. Це стандартний параметр злиття.
      - **Найостанніший**: ідентифікує переможний запис на основі давності. Вимагає дати або числового поля для визначення давності.
      - **Найдавніший**: ідентифікує переможний запис на основі найбільшого значення давності. Вимагає дати або числового поля для визначення давності.
      
      У разі краватки, запис переможця - це той, що має MAX (PK) або більший значення первинного ключа.
      
   1. За бажанням, щоб визначити параметри злиття для окремих атрибутів сутності, у нижній частині області виберіть пункт **Додатково**. Наприклад, ви можете зберегти останню електронну пошту та найповнішу адресу з різних записів. Розгорніть сутність, щоб переглянути всі її атрибути та визначити, який параметр слід використовувати для окремих атрибутів. Якщо ви виберете параметр на основі рекреації, вам також потрібно вказати поле дати/часу, яке визначає рекрецію.

      :::image type="content" source="media/m3_adv_merge.png" alt-text="Розширена область параметрів злиття з останньою електронною поштою та повною адресою":::

   1. Натисніть кнопку **Готово**, щоб застосувати параметри злиття.

1. Після визначення правил дедуплікації та параметрів злиття натисніть кнопку **Далі**.
  
> [!div class="nextstepaction"]
> [Наступний крок для однієї сутності: Об'єднання полів](merge-entities.md)

> [!div class="nextstepaction"]
> [Наступний крок для кількох сутностей: відповідні умови](match-entities.md)

## <a name="deduplication-output-as-an-entity"></a>Результати вилучення дублікатів як сутність

Процес дедуплікації створює нову дедупліковану сутність для кожної з вихідних сутностей. Ці сутності можна знайти разом з **ConflationMatchPairs:CustomerInsights** в розділі **Система** на сторінці **Сутності** під іменем **Deduplication_DataSource_Entity**.

Сутність виводу вилучення дублікатів містить зазначені нижче відомості.

- Ідентифікатори / Ключі
  - Поля Первинний ключ і Альтернативний ідентифікатор. Поле альтернативного ідентифікатора складається з усіх альтернативних ідентифікаторів, визначених для запису.
  - Поле Deduplication_GroupId відображає групу або кластер, що визначається у сутності та групує усі подібні записи на основі вказаних полів вилучення дублікатів. Це використовується для цілей системної обробки. Якщо не вказано правил вилучення дублікатів вручну та застосовуються системні правила вилучення дублікатів, це поле може бути відсутнє у сутності виводу вилучення дублікатів.
  - Deduplication_WinnerId: у цьому полі міститься ідентифікатор переможця з визначених груп або кластерів. Якщо Deduplication_WinnerId співпадає зі значенням первинного ключа для запису, це означає, що цей запис є записом-переможцем.
- Поля використовуються для визначення правил вилучення дублікатів.
- Поля «Правило» та «Оцінка» вказують, які правила вилучення дублікатів було застосовано та яку оцінку було повернуто алгоритмом зіставлення.

[!INCLUDE[footer-include](includes/footer-banner.md)]
