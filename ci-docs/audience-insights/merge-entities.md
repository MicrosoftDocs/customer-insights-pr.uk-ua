---
title: Злиття сутностей в уніфікації даних
description: Злиття сутностей для створення уніфікованих профілів клієнтів.
ms.date: 01/28/2022
ms.subservice: audience-insights
ms.topic: tutorial
author: adkuppa
ms.author: adkuppa
ms.reviewer: mhart
manager: shellyha
searchScope:
- ci-match
- ci-merge
- ci-relationships
- customerInsights
ms.openlocfilehash: c7743104bf89d9a2a741f1b358a89ed0240be024
ms.sourcegitcommit: 73cb021760516729e696c9a90731304d92e0e1ef
ms.translationtype: MT
ms.contentlocale: uk-UA
ms.lasthandoff: 02/25/2022
ms.locfileid: "8355870"
---
# <a name="merge-entities"></a>Об'єднання сутностями

Фаза злиття — це остання фаза в процесі уніфікації даних. Її мета — узгодження суперечливих даних. Приклади суперечливих даних можуть містити ім’я клієнта, знайдене в двох наборах даних, яке відображається в кожному наборі по-різному (Grant Marshall і Grant Marshal) або номер телефону, який відрізняється форматом (617-803-091X і 617803091X). Злиття цих конфліктуючих точок даних виконується на основі методу «атрибут за атрибутом».

:::image type="content" source="media/merge-fields-page.png" alt-text="Сторінка злиття у процесі уніфікації даних, де відображається таблиця із об’єднаними полями, які визначають уніфікований профіль клієнта.":::

Після завершення [фази пошуку відповідностей](match-entities.md) ви починаєте фазу злиття. Для цього виберіть плитку **Злиття** на сторінці **Уніфікувати**.

## <a name="review-system-recommendations"></a>Перегляд системних рекомендацій

У розділі **Дані** > **Уніфікація** > **Злиття** ви вибираєте та виключаєте атрибути для злиття у межах вашої сутності уніфікованого профілю клієнта. Уніфікований профіль клієнта є результатом процесу уніфікації даних. Деякі атрибути автоматично об’єднуються системою.

Щоб переглянути атрибути, включені до одного з автоматично об’єднаних атрибутів, виберіть цей об’єднаний атрибут на вкладці **Поля клієнта** у таблиці. Атрибути, які утворюють об’єднаний атрибут, відображаються у двох нових рядках під об’єднаним атрибутом.

## <a name="separate-rename-exclude-and-edit-merged-fields"></a>Розділення, перейменування, виключення та редагування об'єднаних полів

Ви можете змінювати об’єднання атрибутів, виконане системними процесами для створення уніфікованого профілю клієнта. Виберіть **Показати більше** і оберіть елементи, які потрібно змінити.

:::image type="content" source="media/manage-merged-attributes.png" alt-text="Параметри в розкривному меню «Показати більше», щоб керувати об'єднаними атрибутами.":::

Для отримання додаткових відомостей див. наступні розділи.

## <a name="separate-merged-fields"></a>Розділення об’єднаних полів

Щоб розділити об'єднані поля, знайдіть потрібний атрибут у таблиці. Роз’єднані поля відображаються як окремі точки даних в уніфікованому профілі клієнта. 

1. Виберіть об’єднане поле.
  
1. Виберіть **Показати більше** та оберіть **Розділити поля**.
 
1. Підтвердьте розділення.

1. Виберіть **Зберегти** та **Виконати**, щоб обробити зміни.

## <a name="rename-merged-fields"></a>Перейменування об’єднаних полів

Змініть коротке ім'я об’єднаних атрибутів. Ім’я вихідної сутності змінювати не можна.

1. Виберіть об’єднане поле.
  
1. Виберіть **Показати більше** та оберіть **Перейменувати**.

1. Підтвердьте зміну короткого імені. 

1. Виберіть **Зберегти** та **Виконати**, щоб обробити зміни.

## <a name="exclude-merged-fields"></a>Виключення об’єднаних полів

Виключіть атрибут з уніфікованого профілю клієнта. Якщо поле використовується в інших процесах, наприклад у сегменті, перед виключенням із профілю клієнта видаліть його з цих процесів. 

1. Виберіть поле злиття.
  
1. Виберіть **Показати більше** та оберіть **Виключити**.

1. Підтвердьте виключення.

1. Виберіть **Зберегти** та **Виконати**, щоб обробити зміни. 

На сторінці **Злиття** виберіть **Виключені поля**, щоб переглянути список усіх виключених полів. У цій області можна повернути виключені поля.

## <a name="edit-a-merged-field"></a>Редагування поля злиття

1.  Виберіть поле злиття.

1.  Виберіть **Показати більше** та оберіть **Редагувати**.

1.  Укажіть спосіб об'єднання або злиття полів, обравши один з трьох варіантів.
    - **Важливість**: визначає значення, яке переможе, на підставі рангу важливості, указаного для полів, які беруть участь. Це стандартний параметр злиття. Щоб задати ранг важливості, виберіть **Угору або вниз**.
    :::image type="content" source="media/importance-merge-option.png" alt-text="Параметр «Важливість» в діалоговому вікні «Злиття полів»."::: 
    - **Найновіші**: визначає значення, яке переможе, спираючись на новизну. Для визначення новизни необхідно, щоб у кожній сутності з області полів злиття, що беруть участь у процесі, було числове поле або поле дати.
    :::image type="content" source="media/recency-merge-option.png" alt-text="Параметр «Новизна» в діалоговому вікні «Злиття полів».":::
    - **Найстаріші**: визначає значення, яке переможе, спираючись на старість. Для визначення новизни необхідно, щоб у кожній сутності з області полів злиття, що беруть участь у процесі, було числове поле або поле дати.

1.  До участі у процесі злиття можна залучити інші поля.

1.  Злите поле можна перейменувати.

1. Виберіть **Готово**, щоб застосувати зміни.

1. Виберіть **Зберегти** та **Виконати**, щоб обробити зміни. 

## <a name="combine-fields-manually"></a>Об'єднання полів вручну

Укажіть об'єднаний атрибут вручну.

1. **На сторінці Злиття** натисніть кнопку **Об'єднати**.

1. **Виберіть параметр Поля**.

1. Укажіть політику визначення переможця злиття в розкривному списку **Об'єднати поля за**.

1. Оберіть поле, яке потрібно додати. Виберіть **Додати поля**, щоб поєднати більше полів.

1. Укажіть **Ім'я** та **Ім'я вихідного поля**.

1. Виберіть **Готово**, щоб застосувати зміни.

1. Виберіть **Зберегти** та **Виконати**, щоб обробити зміни. 

## <a name="combine-a-group-of-fields"></a>Об'єднання групи полів

Розглядайте групу полів як одну одиницю. Наприклад, якщо наші записи містять поля Адреса1, Адреса2, Місто, Стан і Поштовий індекс. Ми, ймовірно, не хочемо об'єднуватися в адресу іншого запису 2, думаючи, що це зробить наші дані більш повними.

1. **На сторінці Злиття** натисніть кнопку **Об'єднати**.

1. **Виберіть параметр Група полів**.

1. Укажіть політику переможця злиття в групах **Ранжирування за розкривним списоком**.

1. Натисніть кнопку **Додати** та виберіть, чи потрібно додати до полів інші поля або додаткові групи.

1. Укажіть ім'я **та** **ім'я** виводу для кожного об'єднаного поля.

1. Укажіть ім'я **групи** полів. 

1. Виберіть **Готово**, щоб застосувати зміни.

1. Виберіть **Зберегти** та **Виконати**, щоб обробити зміни.

## <a name="change-the-order-of-fields"></a>Змінення порядку полів

Деякі сутності містять більше відомостей, ніж інші. Якщо сутність містить найновіші дані про поле, ви можете підвищити її пріоритет відносно інших сутностей під час злиття полів.

1. Виберіть об’єднане поле.
  
1. Виберіть **Показати більше** та оберіть **Редагувати**.

1. В області **Поєднати поля** виберіть **Вгору/вниз**, щоб установити порядок або перетягніть поля на бажані позиції.

1. Підтвердьте зміни.

1. Виберіть **Зберегти** та **Виконати**, щоб обробити зміни.

## <a name="configure-customer-id-generation"></a>Налаштування створення ідентифікаторів користувача 

Після налаштування полів для злиття можна визначити, як створюватимуться значення CustomerId, тобто унікальні ідентифікатори профілів клієнтів. Крок злиття в процесі уніфікації даних створює унікальний ідентифікатор профілю клієнта. Цей ідентифікатор — це ідентифікатор CustomerId у сутності *Клієнт*, яка є результатом процесу уніфікації даних. 

Ідентифікатор CustomerId сутності «Клієнт» базується на хеші першого значення первинних ключів переможця, яке не є null. Ці ключі отримуються від сутностей, які використовуються на етапі відповідності та злиття, і на них впливає порядок визначення відповідності. Таким чином, створений ідентифікатор CustomerID може змінюватися, коли в основній сутності порядку визначення відповідності змінюється значення первинного ключа. Отже значення первинного ключа може не завжди представляти одного клієнта.

Налаштування постійного ідентифікатора клієнта дозволить уникнути таких ситуацій.

**Налаштування унікального ідентифікатора клієнта**

1. Виберіть **Уніфікація** > **Злиття**.

1. Перейдіть на вкладку **Ключі**. 

1. Наведіть курсор на рядок **CustomerId** і виберіть пункт **Налаштувати**.
   :::image type="content" source="media/customize-stable-id.png" alt-text="Елемент керування для настроювання створення ідентифікаторів.":::

1. Виберіть до п'яти полів, з яких складатиметься унікальний ідентифікатор клієнта і які змінюються якомога рідше. Записи, які не відповідають заданому вами налаштуванню, натомість використовуватимуть ідентифікатор, налаштований системою.  

1. Виберіть **Готово** та запустіть процес злиття, щоб застосувати зміни.

## <a name="group-profiles-into-households-or-clusters"></a>Групування профілів у домогосподарства або кластери

У процесі налаштування створення профілів клієнтів ви можете визначити правила групування пов'язаних профілів у кластер. Наразі доступно два типи кластерів: кластери домогосподарств та настроювані кластери. Система автоматично вибирає домогосподарство із попередньо визначеними правилами, якщо сутність *Клієнт* містить семантичні поля *Person.LastName* і *Location.Address*. Крім того, можна створити кластер із власними правилами та умовами, аналогічними [правилам зіставлення](match-entities.md#define-rules-for-match-pairs).

**Визначення домогосподарства або кластера**

1. Виберіть **Уніфікація** > **Злиття**.

1. На вкладці **Злиття** виберіть **Додатково** > **Створити кластер**.

   :::image type="content" source="media/create-cluster.png" alt-text="Елемент керування для створення нового кластера.":::

1. Виберіть між кластером **Домогосподарство** або **Настроюваним** кластером. Якщо семантичні поля *Person.LastName* і *Location.Address* існують у сутності *Клієнт*, автоматично буде вибрано домогосподарство.

1. Укажіть ім'я кластера та виберіть **Готово**.

1. Виберіть вкладку **Кластери**, щоб знайти потрібний кластер.

1. Укажіть правила та умови для визначення кластера.

1. Виберіть **Виконати**, щоб запустити процес злиття та створити кластер.

Після завершення процесу злиття ідентифікатори кластера додаються до сутності *Клієнт* як нові поля.

## <a name="run-your-merge"></a>Виконання злиття

Незалежно від того, чи можна об’єднати атрибути вручну або дозволити системі їх об’єднання, ви завжди можете виконати злиття. Виберіть елемент **Виконати** на сторінці **Злиття**, щоб почати процес.

> [!div class="mx-imgBorder"]
> ![Збереження та виконання злиття даних.](media/configure-data-merge-save-run.png "Збереження та виконання злиття даних")

Виберіть **Виконати тільки злиття**, якщо потрібно, щоб результат відобразився тільки в уніфікованій сутності клієнта. Подальші процеси буде оновлено відповідно до [визначеного розкладу оновлення](system.md#schedule-tab).

Виберіть **Виконати злиття та подальші процеси**, щоб оновити систему й внести до неї виконані зміни. Усі процеси, зокрема збагачення, сегменти та показники автоматично запустяться повторно. Після завершення всіх подальших процесів профілі клієнтів відображатимуть усі внесені вами зміни.

Щоб внести інші зміни та повторно виконати цей крок, ви можете скасувати усі злиття, що виконуються. Виберіть **Оновлення...** й натисніть **Скасувати завдання** в бічній області, що відображається.

[!INCLUDE [progress-details-include](../includes/progress-details-pane.md)]

:::image type="content" source="media/process-detail-path.png" alt-text="Шлях до деталізації для отримання відомостей про процес за посиланням на стан завдання.":::

## <a name="next-step"></a>Наступний крок

Налаштуйте [справи](activities.md), [збагачення](enrichment-hub.md) або [зв’язки](relationships.md), щоб отримати більше аналітичних оглядів клієнтів.

Якщо справи, збагачення або сегменти вже налаштовано, вони оброблятимуться автоматично та використовуватимуть найновіші дані клієнтів.

[!INCLUDE[footer-include](../includes/footer-banner.md)]
