---
title: Інтеграція веб-даних від аналітичних висновків щодо взаємодії із аналізом аудиторії
description: Додайте до аналізу аудиторії відомості про клієнтів, отримані з аналітичних висновків щодо взаємодії.
ms.date: 12/17/2020
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: conceptual
author: mukeshpo
ms.author: mukeshpo
ms.reviewer: mhart
manager: shellyha
ms.openlocfilehash: 14ebff30d3ec7fc52dca6f86136309a3f454fa27
ms.sourcegitcommit: bae40184312ab27b95c140a044875c2daea37951
ms.translationtype: HT
ms.contentlocale: uk-UA
ms.lasthandoff: 03/15/2021
ms.locfileid: "5597490"
---
# <a name="integrate-web-data-from-engagement-insights-with-audience-insights"></a><span data-ttu-id="c7431-103">Інтеграція веб-даних від аналітичних висновків щодо взаємодії із аналізом аудиторії</span><span class="sxs-lookup"><span data-stu-id="c7431-103">Integrate web data from engagement insights with audience insights</span></span>

<span data-ttu-id="c7431-104">Клієнти часто виконують щоденні транзакції на веб-сайтах.</span><span class="sxs-lookup"><span data-stu-id="c7431-104">Customers often do their day to day transactions online using web sites.</span></span> <span data-ttu-id="c7431-105">Функціонал аналітичних висновків щодо взаємодії у Dynamics 365 Customer Insights дозволяє вам використовувати ваші веб-дані в якості джерела при інтеграції.</span><span class="sxs-lookup"><span data-stu-id="c7431-105">The engagement insights capability in Dynamics 365 Customer Insights is a handy solution to integrate web data as a source.</span></span> <span data-ttu-id="c7431-106">На додаток до транзакційних, демографічних або поведінкових даних, ми можемо бачити діяльність в Інтернеті в уніфікованих профілях клієнтів.</span><span class="sxs-lookup"><span data-stu-id="c7431-106">In addition to transactional, demographic, or behavioral data we can see activities on the web in unified customer profiles.</span></span> <span data-ttu-id="c7431-107">Цей профіль можна використовувати для отримання додаткових аналітичних результатів, наприклад сегментів, показників або прогнозів для активації аудиторії.</span><span class="sxs-lookup"><span data-stu-id="c7431-107">We can use this profile to gain additional insights like segments, measures, or predictions for audience activation.</span></span>

<span data-ttu-id="c7431-108">У цій статті описано кроки, які дозволять використовувати відомості щодо діяльності ваших клієнтів на веб-сторінках, отримані з аналітичних висновків щодо взаємодії, у наявному середовищі аналізу аудиторії.</span><span class="sxs-lookup"><span data-stu-id="c7431-108">This article describes the steps to bring your customers’ web activity data from engagement insights into your existing audience insights environment.</span></span>

<span data-ttu-id="c7431-109">У цьому прикладі ми вважатимемо, що існує середовище із уніфікованими профілями клієнтів.</span><span class="sxs-lookup"><span data-stu-id="c7431-109">In this example, we assume an environment that contains unified customer profiles.</span></span> <span data-ttu-id="c7431-110">Профілі були уніфіковані з джерелами з опитувань, роздрібних продажів та системи запитів.</span><span class="sxs-lookup"><span data-stu-id="c7431-110">The profiles were unified with sources from surveys, retail sales, and a ticketing system.</span></span> <span data-ttu-id="c7431-111">Також відображаються пов'язані справи клієнтів.</span><span class="sxs-lookup"><span data-stu-id="c7431-111">It also shows the related activities of the customers.</span></span> 

<span data-ttu-id="c7431-112">Тепер ми хочемо дізнатись, чи відвідує певний клієнт наші веб-майданчики та вивчити його справи.</span><span class="sxs-lookup"><span data-stu-id="c7431-112">We now want to know if a customer visits our web properties and understand their activities.</span></span> <span data-ttu-id="c7431-113">Справи можуть складатись з, наприклад, відвіданих веб-сторінок або сторінок продуктів, відкритих за посиланням з повідомлення електронної пошти.</span><span class="sxs-lookup"><span data-stu-id="c7431-113">Activities include, for example, visited websites or viewed product pages from a link received in an email.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="c7431-114">Вимоги</span><span class="sxs-lookup"><span data-stu-id="c7431-114">Prerequisites</span></span>

<span data-ttu-id="c7431-115">Щоб інтегрувати дані з аналітичних висновків щодо взаємодії, необхідно виконати кілька попередніх умов.</span><span class="sxs-lookup"><span data-stu-id="c7431-115">To integrate data from engagement insights, a few prerequisites need to be met:</span></span> 

- <span data-ttu-id="c7431-116">Інтегруйте SDK аналітичних висновків щодо взаємодії із вашим веб-сайтом.</span><span class="sxs-lookup"><span data-stu-id="c7431-116">Integrate the engagement insights SDK with your website.</span></span> <span data-ttu-id="c7431-117">Додаткові відомості: [Початок роботи із Web SDK](../engagement-insights/instrument-website.md).</span><span class="sxs-lookup"><span data-stu-id="c7431-117">For more information, see [Get started with the web SDK](../engagement-insights/instrument-website.md).</span></span>
- <span data-ttu-id="c7431-118">Для експорту веб-подій з аналітичних висновків щодо взаємодій потрібно мати доступ до облікового запису сховища ADLS Gen 2, яке використовується для внесення даних веб-подій до аналізу аудиторії.</span><span class="sxs-lookup"><span data-stu-id="c7431-118">Exporting web events from engagement insights requires access to an ADLS Gen 2 storage account that will be used to ingest the web events data to audience insights.</span></span> <span data-ttu-id="c7431-119">Додаткові відомості: [Експорт подій](../engagement-insights/export-events.md).</span><span class="sxs-lookup"><span data-stu-id="c7431-119">For more information, see [Export events](../engagement-insights/export-events.md).</span></span>

## <a name="configure-refined-events-in-engagement-insights"></a><span data-ttu-id="c7431-120">Налаштування скоригованих подій у аналітичних висновках щодо взаємодії</span><span class="sxs-lookup"><span data-stu-id="c7431-120">Configure refined events in engagement insights</span></span>

<span data-ttu-id="c7431-121">Після того, як адміністратор забезпечить роботу SDK аналітичних висновків щодо взаємодії на веб-сайті, при перегляді цієї веб-сторінки користувачем або клацанні збиратимуться *базові події*.</span><span class="sxs-lookup"><span data-stu-id="c7431-121">After an administrator instrumented a website with the engagement insights SDK, *base events* are gathered when a user views a web page or clicks somewhere.</span></span> <span data-ttu-id="c7431-122">Базові події, як правило, містять велику кількість подробиць.</span><span class="sxs-lookup"><span data-stu-id="c7431-122">Base events tend to contain numerous details.</span></span> <span data-ttu-id="c7431-123">Залежно від вашого завдання, вам знадобиться лише підмножина даних з базової події.</span><span class="sxs-lookup"><span data-stu-id="c7431-123">Depending on your use case, you only need a subset of the data in a base event.</span></span> <span data-ttu-id="c7431-124">Аналітичні в висновки щодо взаємодії дозволяють створити *скориговані події*, які містять лише вибрані вами властивості базової події.</span><span class="sxs-lookup"><span data-stu-id="c7431-124">Engagement insights let you create *refined events* that contain only the properties of a base event that you select.</span></span>     

<span data-ttu-id="c7431-125">Додаткові відомості: [Створення та редагування скоригованих подій](../engagement-insights/refined-events.md).</span><span class="sxs-lookup"><span data-stu-id="c7431-125">For more information, see [Create and modify refined events](../engagement-insights/refined-events.md).</span></span>

<span data-ttu-id="c7431-126">Нижче наведено деякі міркування щодо створення скоригованих подій.</span><span class="sxs-lookup"><span data-stu-id="c7431-126">Considerations when creating refined events:</span></span> 

- <span data-ttu-id="c7431-127">Вказуйте зрозуміле ім'я для скоригованої події.</span><span class="sxs-lookup"><span data-stu-id="c7431-127">Provide a meaningful name for the refined event.</span></span> <span data-ttu-id="c7431-128">Воно використовується як ім’я справи в аналізі аудиторії.</span><span class="sxs-lookup"><span data-stu-id="c7431-128">It's be used as an activity name in audience insights.</span></span>
- <span data-ttu-id="c7431-129">Щоб створити справу в аналізі аудиторії, виберіть принаймні такі властивості:</span><span class="sxs-lookup"><span data-stu-id="c7431-129">Select at least the following properties to create an activity in audience insights:</span></span> 
    - <span data-ttu-id="c7431-130">Signal.Action.Name — зазначення подробиць для справи</span><span class="sxs-lookup"><span data-stu-id="c7431-130">Signal.Action.Name - indicating the activity details</span></span>
    - <span data-ttu-id="c7431-131">Signal.User.Id — використовується для зіставлення з ідентифікатором клієнта</span><span class="sxs-lookup"><span data-stu-id="c7431-131">Signal.User.Id - used to map with the customer ID</span></span>
    - <span data-ttu-id="c7431-132">Signal.View.Uri — використовується як веб-адреса як основа для сегментів або показників</span><span class="sxs-lookup"><span data-stu-id="c7431-132">Signal.View.Uri - used as a web address as a basis for segments or measures</span></span>
    - <span data-ttu-id="c7431-133">Signal.Export.Id — використовується в якості первинного ключа для подій</span><span class="sxs-lookup"><span data-stu-id="c7431-133">Signal.Export.Id - to use as a primary key for events</span></span> <!-- system generated, do we need to list?-->
    - <span data-ttu-id="c7431-134">Signal.Timestamp — для визначення дати і часу справи</span><span class="sxs-lookup"><span data-stu-id="c7431-134">Signal.Timestamp - to determine the date and time for the activity</span></span>

<span data-ttu-id="c7431-135">Виберіть фільтри, щоб зосередитися на подіях і сторінках, які важливі для поточного завдання.</span><span class="sxs-lookup"><span data-stu-id="c7431-135">Select the filters to focus on the events and pages that matter for your use case.</span></span> <span data-ttu-id="c7431-136">У цьому прикладі ми використовуватимемо назву справи «Розповсюдження електронної пошти».</span><span class="sxs-lookup"><span data-stu-id="c7431-136">In this example, we'll use the "Email promotion" action name.</span></span>

## <a name="export-the-refined-web-events"></a><span data-ttu-id="c7431-137">Експорт скоригованих веб-подій</span><span class="sxs-lookup"><span data-stu-id="c7431-137">Export the Refined Web Events</span></span> 

<span data-ttu-id="c7431-138">Після того, як скориговану подію визначено, необхідно налаштувати експорт даних події до сховище Azure Data Lake Storage, яке можна встановити як джерело даних, яке використовуватиме аналіз аудиторії.</span><span class="sxs-lookup"><span data-stu-id="c7431-138">After defining the refined event is defined, you have to configure the export of the event data to an Azure Data Lake Storage, that can be set as a data source for ingestion in audience insights.</span></span> <span data-ttu-id="c7431-139">Експорт відбуватиметься постійно при надходженні подій з веб-майданчика.</span><span class="sxs-lookup"><span data-stu-id="c7431-139">Exports happen constantly as the events flow from the web property.</span></span>

<span data-ttu-id="c7431-140">Додаткові відомості: [Експорт подій](../engagement-insights/export-events.md).</span><span class="sxs-lookup"><span data-stu-id="c7431-140">For more information, see [Export events](../engagement-insights/export-events.md).</span></span>

## <a name="ingest-event-data-to-audience-insights"></a><span data-ttu-id="c7431-141">Отримання даних подій у аналізу аудиторії</span><span class="sxs-lookup"><span data-stu-id="c7431-141">Ingest event data to audience insights</span></span>

<span data-ttu-id="c7431-142">Тепер, коли ви визначили скориговану подію та налаштували її експорт, час переходити до внесення даних до аналізу аудиторії.</span><span class="sxs-lookup"><span data-stu-id="c7431-142">Now that you have defined the refined event and configured its export, we move on to ingesting the data to audience insights.</span></span> <span data-ttu-id="c7431-143">Потрібно створити нове джерело даних на основі папки Common Data Model.</span><span class="sxs-lookup"><span data-stu-id="c7431-143">You need to create a new data source based on a Common Data Model folder.</span></span> <span data-ttu-id="c7431-144">Введіть відомості облікового запису сховища, куди експортуються події.</span><span class="sxs-lookup"><span data-stu-id="c7431-144">Enter the details for the storage account you export the events to.</span></span> <span data-ttu-id="c7431-145">У файлі *default.cdm.json* виберіть скориговану подію для передавання та створіть сутність в аналізі аудиторії.</span><span class="sxs-lookup"><span data-stu-id="c7431-145">In the *default.cdm.json* file, select the refined event to ingest and create the entity in audience insights.</span></span>

<span data-ttu-id="c7431-146">Додаткові відомості: [Підключення до папки Common Data Model за допомогою облікового запису Azure Data Lake](connect-common-data-model.md)</span><span class="sxs-lookup"><span data-stu-id="c7431-146">For more information, see [Connect to a Common Data Model folder using an Azure Data Lake account](connect-common-data-model.md)</span></span>


## <a name="relate-refined-event-data-as-an-activity-of-a-customer-profile"></a><span data-ttu-id="c7431-147">Посилання на дані скоригованої події як на справу профілю клієнта</span><span class="sxs-lookup"><span data-stu-id="c7431-147">Relate refined event data as an activity of a customer profile</span></span>

<span data-ttu-id="c7431-148">Після завершення прийому сутності можна налаштувати справу для профілю клієнта.</span><span class="sxs-lookup"><span data-stu-id="c7431-148">After completing the entity ingestion, you can configure the activity for the customer profile.</span></span>

<span data-ttu-id="c7431-149">Додаткові відомості див. в розділі [Справи клієнта](activities.md).</span><span class="sxs-lookup"><span data-stu-id="c7431-149">For more information, see [Customer activities](activities.md).</span></span>

:::image type="content" source="media/web-event-activity.png" alt-text="Сторінка справ із розгорнутою областю редагування справи і заповненими полями.":::

<span data-ttu-id="c7431-151">Налаштуйте нову справу, скориставшись таким зіставленням:</span><span class="sxs-lookup"><span data-stu-id="c7431-151">Configure the new activity with the following mapping:</span></span> 

- <span data-ttu-id="c7431-152">**Первинний ключ:** Signal.Export.Id, унікальний ідентифікатор, доступний для кожного запису події в аналітичних висновках щодо взаємодії.</span><span class="sxs-lookup"><span data-stu-id="c7431-152">**Primary Key:** Signal.Export.Id, a unique ID that is available for every event record in engagement insights.</span></span> <span data-ttu-id="c7431-153">Ця властивість створюється автоматично.</span><span class="sxs-lookup"><span data-stu-id="c7431-153">This property is automatically generated.</span></span>

- <span data-ttu-id="c7431-154">**Позначка часу:** Signal.Timestamp у властивості події.</span><span class="sxs-lookup"><span data-stu-id="c7431-154">**Timestamp:** Signal.Timestamp in the event property.</span></span>

- <span data-ttu-id="c7431-155">**Подія:** Signal.Name, ім'я події, яку потрібно відстежувати.</span><span class="sxs-lookup"><span data-stu-id="c7431-155">**Event:** Signal.Name, the event name that you want to track.</span></span>

- <span data-ttu-id="c7431-156">**Веб-адреса:** Signal.View.Uri, що посилається на uri сторінки, на якій відбулася подія.</span><span class="sxs-lookup"><span data-stu-id="c7431-156">**Web address:** Signal.View.Uri referring to the uri of the page that created the event.</span></span>

- <span data-ttu-id="c7431-157">**Подробиці:** Signal.Action.Name для відображення відомостей, які потрібно пов'язати з подією.</span><span class="sxs-lookup"><span data-stu-id="c7431-157">**Details:** Signal.Action.Name to represent the information to associate with the event.</span></span> <span data-ttu-id="c7431-158">Вибрана властивість у даному випадку означає, що подія стосується розповсюдження електронної пошти.</span><span class="sxs-lookup"><span data-stu-id="c7431-158">The selected property in this case indicates that the event is for email promotion.</span></span>

- <span data-ttu-id="c7431-159">**Тип справи:** у цьому прикладі ми вибираємо наявний тип справи WebLog.</span><span class="sxs-lookup"><span data-stu-id="c7431-159">**Activity type:** In this example, we choose the exsting activity type WebLog.</span></span> <span data-ttu-id="c7431-160">Цей вибір дає зручну можливість запускати моделі прогнозування або створювати сегменти, основані на цьому типі справи.</span><span class="sxs-lookup"><span data-stu-id="c7431-160">This selection is a useful filter option to run prediction models or create segments based on this activity type.</span></span>

- <span data-ttu-id="c7431-161">**Настроювання зв'язку:** цей важливий параметр пов'язує справу з наявними профілями клієнтів.</span><span class="sxs-lookup"><span data-stu-id="c7431-161">**Set up relationship:** This important setting ties the activity to existing customer profiles.</span></span> <span data-ttu-id="c7431-162">**Signal.User.Id** — це ідентифікатор, налаштований у SDK, який повинен бути отриманий та відповідає ідентифікатору користувача в інших джерелах даних, налаштований у аналізі аудиторії.</span><span class="sxs-lookup"><span data-stu-id="c7431-162">**Signal.User.Id** is the identifier configured in the SDK to be collected and that relates to the user ID in other data sources that are configured in audience insights.</span></span> <span data-ttu-id="c7431-163">У цьому прикладі ми налаштовуємо зв'язок між Signal.User.Id та RetailCustomers:CustomerRetailId, тобто, первинним ключем, визначеним на кроці зіставлення процесу уніфікації даних.</span><span class="sxs-lookup"><span data-stu-id="c7431-163">In this example, we configure the relationship between Signal.User.Id and RetailCustomers:CustomerRetailId, which is the primary key that was deinfed in the map step of the data unification process.</span></span>


<span data-ttu-id="c7431-164">Після обробки справ можна переглянути записи клієнтів і відкрити картку клієнта, щоб переглянути справи з аналітичних висновків щодо взаємодії на часовій шкалі.</span><span class="sxs-lookup"><span data-stu-id="c7431-164">After processing the activities, you can review customer records and open a customer card to see activities from engagement insights in the timeline.</span></span> 

> [!TIP]
> <span data-ttu-id="c7431-165">Щоб дізнатись ідентифікатор клієнта, для якого відбулася справа у аналітичних висновках щодо взаємодії, перейдіть до **Сутності** і перегляньте дані для сутності UnifiedActivity.</span><span class="sxs-lookup"><span data-stu-id="c7431-165">To find a customer id that has an engagement insights activity, go to **Entities** and preview the data for the UnifiedActivity entity.</span></span> <span data-ttu-id="c7431-166">ActivityTypeDisplay = WebLog містить справу аналітичних висновків щодо взаємодії, налаштовану в наведеному вище прикладі.</span><span class="sxs-lookup"><span data-stu-id="c7431-166">ActivityTypeDisplay = WebLog contain the engagement insights activity configured in the example above.</span></span> <span data-ttu-id="c7431-167">Скопіюйте ідентифікатор клієнта для одного з цих записів і знайдіть цей ідентифікатор на сторінці **Клієнти**.</span><span class="sxs-lookup"><span data-stu-id="c7431-167">Copy the customer ID for one of those records and for that ID on the **Customers** page.</span></span>

## <a name="next-steps"></a><span data-ttu-id="c7431-168">Наступні кроки</span><span class="sxs-lookup"><span data-stu-id="c7431-168">Next Steps</span></span>

<span data-ttu-id="c7431-169">Тепер можна створювати [сегменти](segments.md), [показники](measures.md) та [прогнози](predictions.md), щоб налагоджувати змістовні зв'язки із клієнтами.</span><span class="sxs-lookup"><span data-stu-id="c7431-169">You can now create [segments](segments.md), [measures](measures.md), and [predictions](predictions.md) to make a meaningful connection with your customers.</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]