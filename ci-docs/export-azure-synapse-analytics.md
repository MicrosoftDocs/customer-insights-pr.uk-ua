---
title: Експорт даних Customer Insights до Azure Synapse Analytics
description: Дізнайтеся, як настроїти підключення на Azure Synapse Analytics.
ms.date: 04/11/2022
ms.reviewer: mhart
ms.subservice: audience-insights
ms.topic: how-to
author: stefanie-msft
ms.author: sthe
manager: shellyha
ms.openlocfilehash: e77227e1e353c02cfb13e26a8ecbe0768ba6c0fa
ms.sourcegitcommit: b7dbcd5627c2ebfbcfe65589991c159ba290d377
ms.translationtype: MT
ms.contentlocale: uk-UA
ms.lasthandoff: 04/27/2022
ms.locfileid: "8644011"
---
# <a name="export-data-to-azure-synapse-analytics-preview"></a>Експорт даних до Azure Synapse Analytics (попередній перегляд)

Azure Synapse– це служба аналізу, яка прискорює отримання аналітичних висновків у сховищах даних і системах великих даних. Ви можете передати дані Customer Insights й використовувати їх в [Azure Synapse](/azure/synapse-analytics/overview-what-is).

## <a name="prerequisites"></a>Вимоги

Щоб налаштувати підключення Customer Insights до Azure Synapse, потрібно виконати наведені нижче попередні вимоги.

> [!NOTE]
> Переконайтеся, що задано всі **призначення ролей**, як описано.  

## <a name="prerequisites-in-customer-insights"></a>Попередні вимоги в Customer Insights

* Ваш Azure Active Directory обліковий запис користувача (AD) має **роль адміністратора** в "Інформації про клієнтів". Докладніше про [настроювання дозволів користувачів](permissions.md#assign-roles-and-permissions).

В Azure: 

- Активна передплата Azure.

- Якщо використовується новий Azure Data Lake Storage обліковий запис Gen2, *принципал служби для статистики клієнтів потребує* дозволів **постачальника даних blob-об'єкта** сховища. Докладніше про [підключення до облікового запису Azure Data Lake Storage Gen2 за допомогою принципала служби Azure для аналізу аудиторії](connect-service-principal.md). Для сховища Data Lake Storage Gen2 **необхідно** увімкнути [ієрархічний простір імен](/azure/storage/blobs/data-lake-storage-namespace).

- У групі ресурсів, де Azure Synapse розташована робоча область, *принципал* служби та *Azure AD користувач з дозволами адміністратора в Customer Insights* потрібно призначити принаймні **дозволи для читання**. Для отримання додаткових відомостей див. [Призначення ролей Azure за допомогою порталу Azure](/azure/role-based-access-control/role-assignments-portal).

- Користувачу *Azure AD з дозволами адміністратора в Customer Insights* потрібні **дозволи постачальника даних blob-файлу** сховища на обліковий Azure Data Lake Storage запис А комп'ютера Gen2, де дані розташовані та пов'язані з робочою областю Azure Synapse. Дізнайтеся більше про [використання порталу Azure для призначення ролей для доступу BLOB-об'єктів та постановки даних у чергу](/azure/storage/common/storage-auth-aad-rbac-portal) та [дозволи постачальника даних BLOB-об’єктів сховища](/azure/role-based-access-control/built-in-roles#storage-blob-data-contributor).

- *[Кероване посвідчення робочої області Azure Synapse](/azure/synapse-analytics/security/synapse-workspace-managed-identity)* повинне мати дозволи **постачальника даних BLOB-об’єктів сховища** для облікового запису Azure Data Lake Storage Gen2, в якому дані розташовані та зв'язані з робочою областю Azure Synapse. Дізнайтеся більше щодо [використання порталу Azure для призначення ролей для доступу BLOB-об'єктів та постановки даних у чергу](/azure/storage/common/storage-auth-aad-rbac-portal) та [дозволів постачальника даних BLOB-об’єктів сховища](/azure/role-based-access-control/built-in-roles#storage-blob-data-contributor).

- У робочій Azure Synapse області принципалу *служби для customer insights* потрібна **призначена роль адміністратора** Synapse. Для отримання додаткових відомостей див. [процедуру настроювання керування доступом для робочої області Synapse](/azure/synapse-analytics/security/how-to-set-up-access-control).

## <a name="set-up-the-connection-and-export-to-azure-synapse"></a>Налаштуйте підключення та експорт до Azure Synapse

### <a name="configure-a-connection"></a>Налаштуйте підключення

Щоб створити підключення, принципалу служби та обліковому запису користувача в Службі статистики клієнтів потрібні **дозволи читача** для *групи ресурсів,* де розташована робоча область Synapse Analytics. Крім того, принципал служби та користувач робочої області Synapse Analytics потребують **дозволів адміністратора** Synapse. 

1. Відкрийте **Адміністрування** > **Підключення**.

1. Виберіть додати **підключення** та виберіть **Azure Synapse Analytics** пункт **Настроїти** на плитці **Azure Synapse Analytics**, щоб настроїти підключення.

1. Надайте у полі Коротке ім’я для свого підключення змістовне ім'я, яке легко впізнати. Ім’я та тип підключення описують це підключення. Ми рекомендуємо вибирати ім’я, яке роз'яснює ціль і мету даного підключення.

1. Виберіть користувачів, які зможуть використовувати це підключення. Якщо не вжити жодних дій, за замовчуванням це будуть Адміністратори. Докладніші відомості див. у розділі [Дозвольте співавторам використовувати підключення для експортів](connections.md#allow-contributors-to-use-a-connection-for-exports).

1. Виберіть або знайдіть передплату, із якою потрібно використати дані Customer Insights. Після вибору передплати можна також вибрати **Робочу область**, **Обліковий запис сховища** та **Контейнер**.

1. Виберіть **Зберегти**, щоб зберегти підключення.

### <a name="configure-an-export"></a>Налаштування експорту

Ви можете налаштувати цей експорт, якщо у вас є доступ до підключень такого типу. Щоб настроїти експорт зі спільним підключенням, потрібні принаймні **дозволи Постачальника** в Службі статистики клієнтів. Додаткові відомості: [Дозволи, необхідні для налаштування експорту](export-destinations.md#set-up-a-new-export).

1. Відкрийте **Дані** > **Експорти**.

1. Щоб створити новий експорт, виберіть **Додати експорт**.

1. **У полі Підключення для експорту** виберіть підключення з розділу **Azure Synapse Analytics**. Якщо ім'я цього розділу не відображається, це означає, що для вас немає жодного доступного [підключення](connections.md) цього типу.

1. Укажіть пізнаване **Коротке ім'я** для експорту та **Ім'я бази даних**.

1. Виберіть сутності, до яких потрібно експортувати .Azure Synapse Analytics
   > [!NOTE]
   > Джерела даних на основі папки [Common Data Model](connect-common-data-model.md) не підтримуються.

2. Виберіть **Зберегти**.

При збереженні експорт не запуститься негайно.

Експорт виконується під час кожного [запланованого оновлення](system.md#schedule-tab). Також можна [експортувати дані неавтоматично](export-destinations.md#run-exports-on-demand).

Щоб запитувати дані, експортовані в Synapse Analytics, потрібен **доступ до сховища Blob Data Reader** до кінцевого сховища в робочій області експорту. 

### <a name="update-an-export"></a>Оновлення експорту

1. Відкрийте **Дані** > **Експорти**.

1. Виберіть **Редагувати** для експорту, який потрібно змінити.

   - **Додайте** або **Видаліть** зі списку вибрані для експорту сутності. При видаленні сутностей зі списку вони не видаляються з бази даних Synapse Analytics. Проте при подальших оновленнях даних видалені сутності в цій базі даних не оновлюватимуться.

   - **Якщо змінити ім'я бази даних**, створюється нова база даних Synapse Analytics. База даних із налаштованим до цього іменем при майбутніх оновленнях не оновлюватиметься.
