---
title: Збіг умов для уніфікації даних
description: Зіставлення сутностей для створення уніфікованих профілів клієнтів.
recommendations: false
ms.date: 10/07/2022
ms.subservice: audience-insights
ms.topic: tutorial
author: v-wendysmith
ms.author: mukeshpo
ms.reviewer: v-wendysmith
manager: shellyha
searchScope:
- ci-match
- ci-merge
- ci-map
- customerInsights
ms.openlocfilehash: bbd2c5f441b85460250c11f02358ea67260278d6
ms.sourcegitcommit: 52ea58c872b10f1e6f9d120be93df93cca1a12dd
ms.translationtype: MT
ms.contentlocale: uk-UA
ms.lasthandoff: 10/26/2022
ms.locfileid: "9721546"
---
# <a name="match-conditions-for-data-unification"></a>Збіг умов для уніфікації даних

Цей крок в уніфікації визначає порядок збігів і правила зіставлення між сутностями. Для цього кроку потрібні щонайменше дві сутності.

> [!NOTE]
> Створивши умови відповідності та вибравши **кнопку Далі**, ви не зможете видалити вибрану сутність або атрибут. Якщо потрібно, виберіть **"Назад** ", щоб переглянути вибрані сутності та атрибути, перш ніж продовжувати.

[!INCLUDE [m3-first-run-note](includes/m3-first-run-note.md)]

## <a name="include-enriched-entities-preview"></a>Включати збагачені сутності (попередній перегляд)

Якщо ви збагатили сутності на рівні джерело даних, щоб допомогти покращити результати об’єднання, виберіть їх. Для отримання додаткової інформації дивіться [Збагачення для джерел даних](data-sources-enrichment.md). Якщо ви вибрали збагачені сутності на **сторінці Дублювання записів**, їх не потрібно вибирати знову.

1. На **сторінці Відповідні умови** виберіть **елемент Використовувати збагачені сутності** у верхній частині сторінки.

1. В **області Використовувати збагачені сутності** виберіть одну або кілька збагачених сутностей.

1. Виберіть **Готово**.

## <a name="specify-the-match-order"></a>Визначте порядок пошуку відповідностей.

Кожне зіставлення об'єднує дві або більше сутності в єдину консолідовану сутність. У той же час зберігаються унікальні записи клієнтів. Порядок збігів вказує на порядок, в якому система намагається зіставити записи.

> [!IMPORTANT]
> Перша сутність називається первинною сутністю, яка служить основою для ваших уніфікованих профілів. Додаткові вибрані сутності будуть додані до цієї сутності.
>
> Важливі міркування:
>
> - Виберіть організацію з найбільш повними та надійними даними профілю про ваших клієнтів як основну організацію.
> - Виберіть сутність, яка має кілька спільних атрибутів з іншими сутностями (наприклад, ім’я, номер телефону або адресу електронної пошти) як основну сутність.

1. На **сторінці Відповідні умови** використовуйте стрілки переміщення вгору та вниз, щоб перемістити сутності в потрібному порядку, або перетягніть їх. Наприклад, виберіть **eCommerceCustomers** як основну сутність **, а лояльних клієнтів** як другу організацію.

1. Щоб усі записи в сутності були унікальними клієнтами незалежно від того, чи знайдено збіг, установіть прапорець **Включити всі записи**. Будь-які записи в цій сутності, які не відповідають записам у будь-якій іншій сутності, включаються до єдиного профілю. Рекорди, які не мають збігу, називаються синглтонами.
  
Основна сутність *Контакти:Електронна комерція* узгоджується з наступною організацією *CustomerLoyalty:Loyalty*. Набір даних, отриманий в результаті першого кроку збігу, зіставляється з наступною сутністю, якщо у вас більше двох сутностей.

:::image type="content" source="media/m3_match.png" alt-text="Знімок екрана: вибраний порядок збігів сутностей." lightbox="media/m3_match.png":::

## <a name="define-rules-for-match-pairs"></a>Визначення правил зіставлення пар

Правила пошуку відповідностей визначають логіку, за якою буде зіставлятися певна пара сутностей. Правило складається з однієї або декількох умов.

Попередження поруч з назвою сутності означає, що для пари збігів не визначено жодного правила збігу.

1. Виберіть "Додати **правило** " для пари сутностей, щоб визначити правила відповідності.

1. **В області Додавання правил** настройте умови для правила.

   :::image type="content" source="media/m3_add_rule.png" alt-text="Знімок екрана: область &quot;Додавання правил&quot;.":::

   - **Виберіть Сутність/Поле (перший рядок)**: Виберіть сутність та атрибут, які, ймовірно, є унікальними для клієнта. Наприклад, номер телефону або адреса електронної пошти. Уникайте зіставлення за атрибутами типу справи. Наприклад, ідентифікатор покупки зазвичай не знайде відповідності в інших типах записів.

   - **Виберіть Entity/Field (другий рядок)**: Виберіть атрибут, який стосується атрибута сутності, зазначеного в першому рядку.

   - **Нормалізувати**: виберіть з наведених параметрів нормалізації для вибраних атрибутів.
     - **Числівники**: перетворює інші системи числення, наприклад римські, на арабські цифри. *VIII* стає *8*.
     - **Символи: видаляє всі символи** та спеціальні символи. *Head&Shoulder* стає *HeadShoulder*.
     - **Текст на нижній регістр**: перетворює всі символи на малі. *ALL CAPS and Title Case* стає *all caps and title case*.
     - **Тип (телефон, ім’я, адреса, організація)**: стандартизує імена, назви, номери телефонів, адреси та організації.
     - **Юнікод в ASCII: перетворює позначення юнікоду на символи ASCII**. */u00B2* стає *2*.
     - **Пробіл:** видаляє всі пробіли. *Hello   World* стає *HelloWorld*.

   - **Точність**: задаєте рівень точності, який застосовуватимуться для цієї умови.
     - **Базовий**: виберіть низький *(30%), середній (60%),* *·* *високий (80%) і* точний (100%).*·* Виберіть **точний**, щоб відповідати лише записам, які відповідають 100 відсоткам.
     - **Настроюваний**: установити відсоток, на який записи повинні збігатися. Система зіставлятиме лише записи, які перевищують цей поріг.

   - **Ім’я – ім’я** правила.

1. Щоб зіставити сутності, лише якщо атрибути відповідають кільком умовам, виберіть **"Додати** > **умову", щоб додати більше** умов до правила зіставлення. Умови зв'язані з логічним оператором AND, отже, виконуються лише за виконання всіх умов.

1. За бажанням розгляньте розширені параметри, такі як [винятки](#add-exceptions-to-a-rule) або [користувацькі умови](#specify-custom-match-conditions) збігу.

1. Натисніть кнопку **Готово**, щоб завершити дію правила.

1. За потреби [можна додати інші правила](#add-rules-to-a-match-pair).

1. Натисніть кнопку **Далі**.

> [!div class="nextstepaction"]
> [Наступний крок: уніфікація полів](merge-entities.md)

### <a name="add-rules-to-a-match-pair"></a>Додавання правил до пар зіставлення

Правила зіставлення відповідають наборам умов. Щоб зіставити сутності за умовами на основі кількох атрибутів, додайте більше правил.

1. Виберіть **елемент Додати правило** до сутності, до якої потрібно додати правила.

1. Виконайте кроки, описані в статті [Визначення правил для зіставлення пар](#define-rules-for-match-pairs).

> [!NOTE]
> Порядок правил має значення. Алгоритм зіставлення намагається зіставити заданий запис клієнта на основі вашого першого правила і переходить до другого правила тільки в тому випадку, якщо з першим правилом не було виявлено збігів.

## <a name="advanced-options"></a>Додаткові параметри

### <a name="add-exceptions-to-a-rule"></a>Додавання винятків до правила

У більшості випадків зіставлення суб’єктів призводить до унікальних профілів клієнтів із консолідованими даними. Щоб усунути рідкісні випадки помилкових спрацьовувань і помилкових негативів, визначте винятки для правила збігу. Винятки застосовуються після обробки правил матчу та уникають збігу всіх записів, які відповідають критеріям винятку.

Наприклад, якщо ваше правило збігу поєднує прізвище, місто та дату народження, система ідентифікує близнюків з тими самими прізвище, які живуть у тому ж місті, що й той самий профіль. Ви можете вказати виняток, який не відповідає профілям, якщо ім’я в об’єднаних об’єктах не однакові.

1. В **області Редагування правил** виберіть елемент **Додати** > **виняток**.

1. Вкажіть критерії винятку.

1. Щоб зберегти правило, натисніть **Готово**.

### <a name="specify-custom-match-conditions"></a>Визначте умови настроюваного зіставлення

Вкажіть умови, які замінюють логіку збігу за замовчуванням. Доступні чотири варіанти:

|Варіант  |Опис |Приклад  |
|---------|---------|---------|
|Завжди відповідає     | Визначає значення для первинних ключів, які завжди співставляються.         |  Завжди зіставляйте рядок із первинним ключем 12345 *із рядком із первинним ключем* *54321*.       |
|Ніколи не відповідає     | Визначає значення для первинних ключів, які ніколи не збігаються.        | Ніколи не зіставляйте рядок із первинним ключем 12345 *із рядком із первинним ключем* *54321*.        |
|Обійти            | Визначає значення, які система завжди повинна ігнорувати на етапі збігу. |  Ігноруйте значення *11111* і *Невідомо* під час матчу.        |
|Зіставлення псевдонімів    | Визначення значень, які система повинна розглядати як одне і те ж значення.         | Вважайте *, що Джо* дорівнює *Джозефу*.        |

1. Виберіть пункт **Користувацьке**.

   :::image type="content" source="media/m3_match_custom.png" alt-text="Спеціальна кнопка":::

1. Виберіть настроюваний **тип** і натисніть кнопку **Завантажити шаблон**. Перейменуйте шаблон без використання пробілів. Використовуйте окремий шаблон для кожного параметра матчу.

1. Відкрийте завантажений файл шаблону і заповніть відомості. Шаблон містить поля, які визначають сутність і значення первинного ключа сутності, які будуть використовуватися в настроюваному пошуку відповідностей. Назви сутностей чутливі до регістру. Наприклад, якщо вам потрібно, щоб первинний ключ *12345* з сутності *Збут* завжди зіставлявся з первинним ключем *34567* з сутності *Контакт*, заповніть шаблон:
   - Entity1: Збут
   - Entity1Key: 12345
   - Entity2: Контактна особа
   - Entity2Key: 34567

   Той самий файл шаблону може вказувати настроювані записи пошуку відповідностей з кількох сутностей.

   > [!NOTE]
   > Якщо потрібно вказати настроюване зіставлення для вилучення дублікатів для сутності, укажіть ту саму сутність, що й Сутність1 і Сутність2, і встановіть різні значення первинного ключа. Ви повинні визначити принаймні одне правило дедуплікації для сутності, щоб використовувати власне зіставлення.

1. Після додавання всіх заміщень збережіть файл шаблону.

1. Перейдіть до розділу **Дані** > **Джерела даних** і прийміть файли шаблонів як нові сутності.

1. Після завантаження файлів знову виберіть параметр **Користувацький**. Виберіть потрібні сутності зі спадного меню та виберіть **Готово**.

   :::image type="content" source="media/custom-match-overrides.png" alt-text="Знімок екрана: діалог вибору замін для настроюваного сценарію зіставлення.":::

1. Застосування власного збігу залежить від параметра збігу, який ви хочете використовувати.

   - Для параметра **Завжди збігатися або Ніколи не збігатися** **перейдіть** до наступного кроку.
   - Для **параметра "Обхід" або "Зіставлення псевдоніма"** **виберіть "Редагувати наявне правило збігу"** **або** створіть нове правило. У спадному меню Нормалізація виберіть параметр Користувацький обхід або зіставлення **псевдонімів і виберіть** Готово.**·** **·**

1. Виберіть **елемент Готово** в **області настроюваних, щоб застосувати настроювану** конфігурацію відповідності.

   Кожен проковтнутий файл шаблону - це своя джерело даних. Якщо будуть виявлені записи, які потребують спеціальної відповідної обробки, оновіть відповідні джерело даних. Оновлення буде використано під час наступного процесу уніфікації. Наприклад, ви ідентифікуєте близнюків з майже однаковим ім’ям, які проживають за тією ж адресою, яка була об’єднана як одна людина. Оновіть джерело даних, щоб ідентифікувати близнюків як окремі, унікальні записи.

> [!div class="nextstepaction"]
> [Наступний крок: уніфікація полів](merge-entities.md)

[!INCLUDE [footer-include](includes/footer-banner.md)]
