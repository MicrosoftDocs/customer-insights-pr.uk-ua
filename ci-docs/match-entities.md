---
title: Умови зіставлення для уніфікації даних
description: Зіставлення сутностей для створення уніфікованих профілів клієнтів.
recommendations: false
ms.date: 05/05/2022
ms.subservice: audience-insights
ms.topic: tutorial
author: v-wendysmith
ms.author: mukeshpo
ms.reviewer: v-wendysmith
manager: shellyha
searchScope:
- ci-match
- ci-merge
- ci-map
- customerInsights
ms.openlocfilehash: 770a18f3a7471714a7e044ae034da168a2601010
ms.sourcegitcommit: dca46afb9e23ba87a0ff59a1776c1d139e209a32
ms.translationtype: MT
ms.contentlocale: uk-UA
ms.lasthandoff: 06/29/2022
ms.locfileid: "9082418"
---
# <a name="match-conditions-for-data-unification"></a>Умови зіставлення для уніфікації даних

[!INCLUDE [m3-prod-trial-note](includes/m3-prod-trial-note.md)]

Цей крок уніфікації визначає порядок збігу та правила зіставлення міжсуб'єктності. Для цього кроку потрібні щонайменше дві сутності.

> [!NOTE]
> Після того, як ви створите умови зіставлення та виберете " **Далі"**, ви не зможете видалити виділену сутність або атрибут. Якщо потрібно, виберіть " **Назад"**, щоб переглянути вибрані сутності та атрибути, перш ніж продовжувати.

## <a name="include-enriched-entities-preview"></a>Включення збагачених сутностей (попередній перегляд)

Якщо ви збагатили сутності на джерело даних рівні, щоб допомогти покращити результати об'єднання, виберіть їх. Для отримання додаткової інформації дивіться [Збагачення джерел даних](data-sources-enrichment.md). Якщо на сторінці "Дублікати записів **" вибрано збагачені сутності**, виділяти їх знову не потрібно.

1. **На сторінці Умови відповідності** виберіть елемент **Використовувати збагачені сутності** у верхній частині сторінки.

1. **На панелі "Використовувати збагачені сутності**" виберіть одну або кілька збагачених сутностей.

1. Виберіть **Готово**.

## <a name="specify-the-match-order"></a>Визначте порядок пошуку відповідностей.

Кожне зіставлення об'єднує дві або більше сутності в єдину консолідовану сутність. У той же час зберігаються унікальні записи клієнтів. Порядок збігу вказує на порядок, в якому система намагається зіставити записи.

> [!IMPORTANT]
> Перша сутність у списку називається первинною сутністю. Основна сутність служить основою для вашого набору даних уніфікованих профілів. До цієї сутності будуть додані додаткові об'єкти, які виділені.
>
> Важливі міркування:
>
> - Виберіть суб'єкт господарювання з найбільш повними та достовірними даними профілю про ваших клієнтів як основний суб'єкт господарювання.
> - Виберіть сутність, яка має кілька спільних атрибутів з іншими сутностями (наприклад, ім'ям, номером телефону або адресою електронної пошти), як основну сутність.

1. **На сторінці Умови відповідності** використовуйте стрілки вгору та вниз, щоб перемістити сутності в потрібному порядку, або перетягніть їх. Наприклад, виберіть **Контакти:Електронна комерція** як основна організація та **КлієнтЛояльність:Лояльність** як друга сутність.

1. Щоб кожен запис у сутності був унікальним клієнтом незалежно від того, чи знайдено збіг, виберіть елемент **Включити всі записи**. Будь-які записи в цій сутності, які не збігаються із записами в будь-яких інших суб'єктах, включаються до єдиного профілю. Записи, які не мають збігу, називаються одноосібними.
  
Основна організація *Контакти:Електронна комерція* збігається з наступною організацією *CustomerLoyalty:Loyalty*. Набір даних, отриманий в результаті першого кроку матчу, збігається з наступною сутністю, якщо у вас більше двох сутностей.

:::image type="content" source="media/m3_match.png" alt-text="Знімок екрана: вибраний порядок зіставлення для сутностей." lightbox="media/m3_match.png":::

## <a name="define-rules-for-match-pairs"></a>Визначення правил зіставлення пар

Правила пошуку відповідностей визначають логіку, за якою буде зіставлятися певна пара сутностей. Правило складається з однієї або декількох умов.

Попередження поруч з іменем сутності означає, що для пари збігів не визначено жодного правила збігу.

1. Виберіть " **Додати правило** " для пари сутностей, щоб визначити правила відповідності.

1. **В області Додавання правил** настройте умови для правила.

   :::image type="content" source="media/m3_add_rule.png" alt-text="Знімок екрана: область додавання правил.":::

   - **Виберіть "Сутність/Поле" (перший рядок)**: виберіть пов'язану сутність та атрибут, щоб вказати властивість запису, яка, ймовірно, є унікальною для клієнта. Наприклад, номер телефону або адреса електронної пошти. Уникайте зіставлення за атрибутами типу справи. Наприклад, ідентифікатор покупки зазвичай не знайде відповідності в інших типах записів.

   - **Виберіть "Сутність/Поле" (другий рядок)**: Виберіть атрибут, який стосується атрибута сутності, вказаного в першому рядку.

   - **Нормалізувати**: виберіть з наведених параметрів нормалізації для вибраних атрибутів.
     - **Числівники**: перетворює інші системи числення, такі як римські цифри, на арабські цифри. *VIII* стає *8*.
     - **Символи**: видаляє всі символи та спеціальні символи. *Head&Shoulder* стає *HeadShoulder*.
     - **Текст у нижній регістр**: перетворює весь символ на нижній регістр. *ALL CAPS and Title Case* стає *all caps and title case*.
     - **Тип (телефон, ім'я, адреса, організація)**: стандартизує імена, посади, номери телефонів, адреси та організації.
     - **Юнікод в ASCII**: перетворює позначення юнікоду на символи ASCII. */u00B2* стає *2*.
     - **Пробіл:** видаляє всі пробіли. *Hello   World* стає *HelloWorld*.

   - **Точність**: задаєте рівень точності, який застосовуватимуться для цієї умови.
     - **Базовий**: виберіть один із *низьких (30%)*, *середніх (60%)*, *високих (80%)* та *точних (100%)*. Виберіть параметр **Точний**, щоб відповідати лише записам, які збігаються зі 100 відсотками.
     - **Настроюваний**: установити відсоток, на який записи повинні збігатися. Система зіставлятиме лише записи, які перевищують цей поріг.

   - **Ім'я**: назва правила.

1. Щоб зіставити сутності, лише якщо атрибути відповідають кільком умовам, виберіть " **Додати** > **умову** ", щоб додати більше умов до правила збігу. Умови зв'язані з логічним оператором AND, отже, виконуються лише за виконання всіх умов.

1. За бажанням розгляньте розширені параметри, такі як [винятки або](#add-exceptions-to-a-rule) користувацькі [умови](#specify-custom-match-conditions) відповідності.

1. Натисніть кнопку **Готово**, щоб завершити дію правила.

1. За потреби [можна додати інші правила](#add-rules-to-a-match-pair).

1. Натисніть кнопку **Далі**.

> [!div class="nextstepaction"]
> [Наступний крок: уніфікація полів](merge-entities.md)

### <a name="add-rules-to-a-match-pair"></a>Додавання правил до пар зіставлення

Правила зіставлення відповідають наборам умов. Щоб зіставити сутності за умовами на основі кількох атрибутів, додайте більше правил.

1. Виберіть елемент **Додати правило** для сутності, до якої потрібно додати правила.

1. Виконайте кроки, описані в статті [Визначення правил для зіставлення пар](#define-rules-for-match-pairs).

> [!NOTE]
> Порядок правил має значення. Алгоритм зіставлення намагається зіставити даний запис клієнта на основі вашого першого правила і продовжується до другого правила тільки в тому випадку, якщо з першим правилом не було виявлено збігів.

## <a name="advanced-options"></a>Додаткові параметри

### <a name="add-exceptions-to-a-rule"></a>Додавання винятків до правила

У більшості випадків зіставлення суб'єктів господарювання призводить до унікальних профілів клієнтів із консолідованими даними. Для динамічного усунення рідкісних випадків помилкових спрацьовувань і помилкових негативів можна визначити винятки для правила збігу. Винятки застосовуються після обробки правил матчу і уникають зіставлення всіх записів, які відповідають критеріям виключення.

Наприклад, якщо ваше правило матчу об'єднає прізвище, місто та дату народження, система ідентифікує близнюків з тими самими прізвище, які живуть в одному місті з тим самим профілем. Можна вказати виняток, який не відповідає профілям, якщо ім'я в об'єднаних об'єднаннях сутностей не однакові.

1. **В області Редагування правил** виберіть елемент **Додати** > **виняток**.

1. Вкажіть критерії виключення.

1. Щоб зберегти правило, натисніть **Готово**.

### <a name="specify-custom-match-conditions"></a>Визначте умови настроюваного зіставлення

Можна вказати умови, які заміняють логіку відповідності за замовчуванням. Доступно чотири варіанти:

|Варіант  |Опис |Приклад  |
|---------|---------|---------|
|Завжди відповідає     | Визначає значення, які завжди збігаються.         |  Завжди зустрічайте *Майка* та *Майка Р*.       |
|Ніколи не відповідає     | Визначає значення, які ніколи не збігаються.        | Ніколи не зрівняйтеся з *Джоном* і *Джонатаном*.        |
|Настроюваний обхід     | Визначає значення, які система завжди повинна ігнорувати на етапі матчу. |  Ігноруйте значення *11111* і *Невідомо* під час матчу.        |
|Зіставлення псевдонімів    | Визначення значень, які система повинна розглядати як одне і те ж значення.         | Вважайте *Джо рівним Джозефу* *.*        |

1. Виберіть пункт **Користувацьке**.

   :::image type="content" source="media/m3_match_custom.png" alt-text="Кнопка &quot;Настроювані&quot;":::

1. Виберіть тип настроюваного **типу** та натисніть кнопку **Завантажити шаблон**. Вам потрібен окремий шаблон для кожного варіанту матчу.

1. Відкрийте завантажений файл шаблону і заповніть відомості. Шаблон містить поля, які визначають сутність і значення первинного ключа сутності, які будуть використовуватися в настроюваному пошуку відповідностей. Наприклад, якщо вам потрібно, щоб первинний ключ *12345* з сутності *Збут* завжди зіставлявся з первинним ключем *34567* з сутності *Контакт*, заповніть шаблон:
    - Entity1: Збут
    - Entity1Key: 12345
    - Entity2: Контактна особа
    - Entity2Key: 34567

   Той самий файл шаблону може вказувати настроювані записи пошуку відповідностей з кількох сутностей.

   Якщо потрібно вказати настроюване зіставлення для вилучення дублікатів для сутності, укажіть ту саму сутність, що й Сутність1 і Сутність2, і встановіть різні значення первинного ключа.

1. Після додавання всіх змін збережіть файл шаблону.

1. Перейдіть до розділу **Дані** > **Джерела даних** і прийміть файли шаблонів як нові сутності.

1. Після передавання файлів знову виберіть **параметр Настроюваний**. Виберіть необхідні сутності зі спадного меню і виберіть **Готово**.

   :::image type="content" source="media/custom-match-overrides.png" alt-text="Знімок екрана: діалог вибору замін для настроюваного сценарію зіставлення.":::

1. Застосування настроюваного збігу залежить від параметра відповідності, який ви хочете використовувати.

   - Для **параметра Завжди збігайтеся** або **Ніколи не збігайтеся**, перейдіть до наступного кроку.
   - Для **параметра "Обхід"** або **"Зіставлення** псевдоніма" виберіть " **Редагувати"** в наявному правилі збігу або створіть нове правило. У розкривному списку Нормалізації виберіть **параметр Настроюваний обхід** або **Зіставлення** псевдоніма та натисніть кнопку **Готово**.

1. Виберіть елемент **Готово** в **області Настроювані**, щоб застосувати настроювану конфігурацію відповідності.

> [!div class="nextstepaction"]
> [Наступний крок: уніфікація полів](merge-entities.md)

[!INCLUDE [footer-include](includes/footer-banner.md)]
