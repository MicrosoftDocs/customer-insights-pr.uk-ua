---
title: Умови збігу для уніфікації даних
description: Зіставлення сутностей для створення уніфікованих профілів клієнтів.
recommendations: false
ms.date: 07/27/2022
ms.subservice: audience-insights
ms.topic: tutorial
author: v-wendysmith
ms.author: mukeshpo
ms.reviewer: v-wendysmith
manager: shellyha
searchScope:
- ci-match
- ci-merge
- ci-map
- customerInsights
ms.openlocfilehash: eaa3409aaa7541dc88953336942e43afaf6511c6
ms.sourcegitcommit: 267c317e10166146c9ac2c30560c479c9a005845
ms.translationtype: MT
ms.contentlocale: uk-UA
ms.lasthandoff: 08/16/2022
ms.locfileid: "9304682"
---
# <a name="match-conditions-for-data-unification"></a>Умови збігу для уніфікації даних

Цей крок в уніфікації визначає порядок збігів і правила міжсуб’єктного зіставлення. Для цього кроку потрібно як мінімум дві сутності.

> [!NOTE]
> Після того, як ви створите умови збігу та натиснете **кнопку Далі**, ви не зможете видалити вибрану сутність або атрибут. Якщо потрібно, виберіть "Назад **"**, щоб переглянути вибрані сутності та атрибути перед продовженням.

[!INCLUDE [m3-first-run-note](includes/m3-first-run-note.md)]

## <a name="include-enriched-entities-preview"></a>Включати збагачені сутності (попередній перегляд)

Якщо ви збагатили сутності на джерело даних рівні, щоб допомогти покращити результати об’єднання, виберіть їх. Щоб отримати додаткові відомості, перегляньте статтю [Збагачення джерел даних](data-sources-enrichment.md). Якщо на **сторінці "Дублювання записів** " вибрано об’єкти, вибирати їх знову не потрібно.

1. **На сторінці Зіставлення умов** виберіть елемент **Використовувати збагачені сутності** у верхній частині сторінки.

1. **З області Використання збагачених сутностей** виберіть одну або кілька збагачених сутностей.

1. Виберіть **Готово**.

## <a name="specify-the-match-order"></a>Визначте порядок пошуку відповідностей.

Кожне зіставлення об'єднує дві або більше сутності в єдину консолідовану сутність. У той же час зберігаються унікальні записи клієнтів. Порядок збігів вказує на порядок, в якому система намагається зіставити записи.

> [!IMPORTANT]
> Перша сутність називається первинною сутністю, яка служить основою для ваших уніфікованих профілів. До цієї сутності будуть додані додаткові суб’єкти, які будуть обрані.
>
> Важливі міркування:
>
> - Виберіть організацію з найбільш повними та надійними даними профілю про ваших клієнтів як основну організацію.
> - Виберіть сутність, яка має кілька спільних атрибутів з іншими сутностями (наприклад, ім’я, номер телефону або адресу електронної пошти) як основну сутність.

1. **На сторінці Умови зіставлення** використовуйте стрілки переміщення вгору та вниз, щоб перемістити сутності в потрібному порядку, або перетягніть їх. Наприклад, виберіть **eCommerceCustomers** як основну сутність і **loyCustomers** як другу сутність.

1. Щоб кожен запис організації був унікальним клієнтом незалежно від знайденого збігу, установіть прапорець **Включити всі записи**. Будь-які записи цієї сутності, які не збігаються із записами будь-якої іншої сутності, включаються до уніфікованого профілю. Записи, які не мають збігу, називаються синглтонами.
  
Основна сутність *Контакти:Електронна комерція* узгоджується з наступною сутністю *КлієнтLoyalty:Лояльність*. Набір даних, отриманий в результаті першого кроку зіставлення, зіставляється з наступною сутністю, якщо у вас більше двох сутностей.

:::image type="content" source="media/m3_match.png" alt-text="Знімок екрана: вибраний порядок збігів для сутностей." lightbox="media/m3_match.png":::

## <a name="define-rules-for-match-pairs"></a>Визначення правил зіставлення пар

Правила пошуку відповідностей визначають логіку, за якою буде зіставлятися певна пара сутностей. Правило складається з однієї або декількох умов.

Попередження біля назви сутності означає, що для пари збігів не визначено жодного правила збігу.

1. Виберіть елемент **Додати правило** для пари сутностей, щоб визначити правила збігу.

1. **В області Додавання правил** настройте умови для правила.

   :::image type="content" source="media/m3_add_rule.png" alt-text="Знімок екрана: область додавання правил":::

   - **Виберіть Сутність/Поле (перший рядок)**: Виберіть сутність і атрибут, які, ймовірно, є унікальними для клієнта. Наприклад, номер телефону або адреса електронної пошти. Уникайте зіставлення за атрибутами типу справи. Наприклад, ідентифікатор покупки зазвичай не знайде відповідності в інших типах записів.

   - **Виберіть сутність/поле (другий рядок)**: виберіть атрибут, який стосується атрибута сутності, указаної в першому рядку.

   - **Нормалізувати**: виберіть з наведених параметрів нормалізації для вибраних атрибутів.
     - **Числівники**: перетворює інші системи числення, наприклад римські цифри, на арабські. *VIII* стає *8*.
     - **Символи**: видаляє всі символи та спеціальні символи. *Head&Shoulder* стає *HeadShoulder*.
     - **Текст на малий регістр**: перетворює всі символи на малі. *ALL CAPS and Title Case* стає *all caps and title case*.
     - **Тип (телефон, ім’я, адреса, організація)** – стандартизує імена, посади, номери телефонів, адреси та організації.
     - **Юнікод в ASCII**: перетворює позначення юнікоду на символи ASCII. */u00B2* стає *2*.
     - **Пробіли**: видаляє всі пробіли. *Hello   World* стає *HelloWorld*.

   - **Точність**: задаєте рівень точності, який застосовуватимуться для цієї умови.
     - **Основні**: вибирайте з *низьких (30%)*, *середніх (60%)*, *високих (80%)* та *точних (100%)*. Виберіть " **Точний"**, щоб відповідати лише записам, які відповідають 100 відсоткам.
     - **Настроюваний**: установити відсоток, на який записи повинні збігатися. Система зіставлятиме лише записи, які перевищують цей поріг.

   - **Ім’я** – ім’я правила.

1. Щоб зіставити сутності, лише якщо атрибути відповідають кільком умовам, виберіть "Додати **умову** > **"**, щоб додати більше умов до правила збігу. Умови зв'язані з логічним оператором AND, отже, виконуються лише за виконання всіх умов.

1. За бажанням розгляньте розширені параметри, такі як [винятки](#add-exceptions-to-a-rule) або [спеціальні умови](#specify-custom-match-conditions) відповідності.

1. Натисніть кнопку **Готово**, щоб завершити правило.

1. За потреби [можна додати інші правила](#add-rules-to-a-match-pair).

1. Натисніть кнопку **Далі**.

> [!div class="nextstepaction"]
> [Наступний крок: Уніфікація полів](merge-entities.md)

### <a name="add-rules-to-a-match-pair"></a>Додавання правил до пар зіставлення

Правила зіставлення відповідають наборам умов. Щоб зіставити сутності за умовами на основі кількох атрибутів, додайте більше правил.

1. Виберіть елемент **Додати правило** для об’єкта, до якого потрібно додати правила.

1. Виконайте кроки, описані в статті [Визначення правил для зіставлення пар](#define-rules-for-match-pairs).

> [!NOTE]
> Порядок правил має значення. Алгоритм зіставлення намагається зіставити заданий запис клієнта на основі вашого першого правила і продовжує до другого правила тільки в тому випадку, якщо з першим правилом не було виявлено збігів.

## <a name="advanced-options"></a>Додаткові параметри

### <a name="add-exceptions-to-a-rule"></a>Додавання винятків до правила

У більшості випадків зіставлення сутності призводить до унікальних профілів клієнтів із консолідованими даними. Щоб усунути рідкісні випадки помилкових спрацьовувань і помилкових негативів, визначте винятки для правила збігу. Винятки застосовуються після обробки правил матчу і уникають зіставлення всіх записів, які відповідають критеріям винятку.

Наприклад, якщо ваше правило збігу поєднує прізвище, місто та дату народження, система визначатиме близнюків з такими ж прізвище, які живуть у тому самому місті, що й той самий профіль. Ви можете вказати виняток, який не відповідає профілям, якщо ім’я в об’єктах, які ви об’єднуєте, не однакові.

1. **В області Редагування правила** виберіть **додати** > **виняток**.

1. Вкажіть критерії винятку.

1. Щоб зберегти правило, натисніть **Готово**.

### <a name="specify-custom-match-conditions"></a>Визначте умови настроюваного зіставлення

Можна вказати умови, які заміняють логіку збігів за замовчуванням. Доступні чотири варіанти:

|Варіант  |Опис |Приклад  |
|---------|---------|---------|
|Завжди відповідає     | Визначає значення, які завжди збігаються.         |  Завжди збігайтеся *з Майком* і *МайкомR*.       |
|Ніколи не відповідає     | Визначає значення, які ніколи не збігаються.        | Ніколи не зрівняйтеся з *Джоном* і *Джонатаном*.        |
|Обійти            | Визначає значення, які система завжди повинна ігнорувати на етапі матчу. |  Ігноруйте значення *11111* та *Невідомо* під час матчу.        |
|Зіставлення псевдонімів    | Визначення значень, які система повинна розглядати як одне і те ж значення.         | Вважайте *, що Джо* дорівнює *Джозефу*.        |

1. Виберіть пункт **Користувацьке**.

   :::image type="content" source="media/m3_match_custom.png" alt-text="Настроювана кнопка":::

1. Виберіть настроюваний **тип** і натисніть кнопку **Завантажити шаблон**. Вам потрібен окремий шаблон для кожного варіанту матчу.

1. Відкрийте завантажений файл шаблону та заповніть деталі. Шаблон містить поля, які визначають сутність і значення первинного ключа сутності, які будуть використовуватися в настроюваному пошуку відповідностей. Наприклад, якщо вам потрібно, щоб первинний ключ *12345* з сутності *Збут* завжди зіставлявся з первинним ключем *34567* з сутності *Контакт*, заповніть шаблон:
    - Entity1: Збут
    - Entity1Key: 12345
    - Entity2: Контактна особа
    - Entity2Key: 34567

   Той самий файл шаблону може вказувати настроювані записи пошуку відповідностей з кількох сутностей.

   Якщо потрібно вказати настроюване зіставлення для вилучення дублікатів для сутності, укажіть ту саму сутність, що й Сутність1 і Сутність2, і встановіть різні значення первинного ключа.

1. Додавши всі зміни, збережіть файл шаблону.

1. Перейдіть до розділу **Дані** > **Джерела даних** і прийміть файли шаблонів як нові сутності.

1. Після завантаження файлів знову виберіть опцію **Custom**. Виберіть необхідні сутності зі спадного меню та виберіть **Готово**.

   :::image type="content" source="media/custom-match-overrides.png" alt-text="Знімок екрана: діалог вибору замін для настроюваного сценарію зіставлення.":::

1. Застосування настроюваного збігу залежить від параметра зіставлення, який потрібно використовувати.

   - Для параметра **Завжди збігатися** або **Ніколи не збігатися** перейдіть до наступного кроку.
   - Для **зіставлення "Обхід"** або **"** Псевдонім" виберіть " **Редагувати** наявне правило збігу" або створіть нове правило. У розкривному списку Нормалізації виберіть **параметр "Власний обхід"** або **"Псевдонім зіставлення"** та виберіть "Готово"**·**.

1. Виберіть **елемент Готово** на вкладці **Додатково**, щоб застосувати настроювану конфігурацію збігів.

> [!div class="nextstepaction"]
> [Наступний крок: Уніфікація полів](merge-entities.md)

[!INCLUDE [footer-include](includes/footer-banner.md)]
